# ブログHTMLエディタ 完全ガイド

## 📋 目次

1. [概要](#概要)
2. [特徴](#特徴)
3. [メリット・デメリット](#メリットデメリット)
4. [始め方](#始め方)
5. [使い方](#使い方)
6. [注意点](#注意点)
7. [トラブルシューティング](#トラブルシューティング)

---

## 概要

### このツールは何か？

ブログHTMLエディタは、**HTMLの知識がない初心者でも、既存のブログHTMLテンプレートを簡単に編集できる**Webベースのノーコードエディタです。ブラウザ上で完結するため、インストール不要で即座に使用できます。

### 誰のためのツールか？

- HTMLを直接編集するのが苦手なブロガー
- 既存のブログテンプレートをカスタマイズしたい方
- メタタグやJSON-LDを正確に編集したい方
- コーディングとビジュアル編集を使い分けたい方
- SEO対策のため正確なメタ情報を管理したい方

### 動作環境

- モダンなWebブラウザ（Chrome、Firefox、Edge、Safari）
- OS: Windows、Mac、Linux対応

---

## 特徴

### 1. **デュアル編集モード**

#### ビジュアル編集モード
- 直感的なGUI操作
- フォーム形式で各要素を編集
- タグ構造を視覚的に把握

#### コード編集モード
- HTML全体を直接編集
- シンタックスハイライト風の黒背景エディタ
- リアルタイム双方向同期

**切り替え方法**: 画面上部の「🎨 ビジュアル編集」「💻 コード編集」ボタンで自由に切り替え

### 2. **Head編集機能**

#### Metaタグ編集
- すべてのmetaタグのcontent属性を編集可能
- og:title、og:description、og:imageなど
- 自動で`<meta name="robots" content="noindex">`を削除

#### Linkタグ編集
- `rel="prev"`と`rel="next"`のhref属性を編集
- ページネーション対応

#### JSON-LD編集
- 構造化データを安全に編集
- 編集可能項目：
  - headline（記事タイトル）
  - image（記事画像）
  - datePublished（公開日）
  - dateModified（更新日）
  - mainEntityOfPage @id（記事URL）
- JSON構造を保持したまま安全に更新

### 3. **Body編集機能**

#### 編集範囲
- `<main>`要素内のすべての要素が編集対象
- テキスト、画像、リンクなどを個別に編集

#### 編集可能な内容
- **テキスト**: タグ間のテキストコンテンツ
- **画像**: `<img>`タグのsrc属性
- **リンク**: `<a>`タグのhref属性

#### 要素の追加
- ➕ボタンから要素追加メニューを表示
- 標準タグ: p, h2, h3, img, a, ul, div
- カスタムタグ: 登録したHTMLコードを挿入
- 挿入位置: 「タグの下に追加」または「タグ内の末端に追加」を選択可能

#### 要素の削除
- 📝ボタンでコード編集モードにジャンプ
- 該当箇所を自動ハイライト表示
- 手動で削除を実行

### 4. **カスタムタグ機能**

#### 登録
1. 「🏷️ カスタムタグ」セクションを開く
2. 「➕ カスタムタグを追加」をクリック
3. タグ名とHTMLコードを入力
4. 保存

#### 編集・削除
- カスタムタグカードをクリックして編集
- タグ名またはコードを空にして保存すると削除

#### 使用方法
- 要素追加メニューに自動表示
- ワンクリックで挿入可能
- 複数のカスタムタグを登録可能

### 5. **自動同期機能**

#### h1同期
**対象**: `<div class="hero">` 内の `<h1>` タグ

**自動更新されるもの**:
- `<title>` タグ
- JSON-LDの `headline`

**タイミング**: h1のテキスト編集完了時

#### サムネイル同期
**対象**: `alt="記事サムネイル"` を持つ `<img>` タグ

**自動更新されるもの**:
- `<meta property="og:image">` の content
- JSON-LDの `image`

**タイミング**: 画像src編集完了時

### 6. **下書き保存・復帰**

#### 下書き保存
- 💾ボタンで現在の編集状態を保存
- ファイル形式: `.txt`（JSON構造）
- ファイル名: `draft_YYYY-MM-DDTHH-mm-ss.txt`

#### 保存内容
- HTML全体（head、body含む）
- カスタムタグのすべて
- タイムスタンプ

#### 下書き復帰
- 📂ボタンでファイル選択ダイアログを表示
- 下書きファイルを選択して復帰
- HTML内容とカスタムタグを完全復元

### 7. **履歴管理（Undo/Redo）**

- 最大100段階の履歴を保持
- ↶ボタンで元に戻す
- ↷ボタンでやり直す
- すべての編集操作を記録

### 8. **リサイザー機能**

- Body編集セクションの高さを調整可能
- マウスドラッグで200px〜800pxの範囲で調整
- 大量の要素がある場合に便利

### 9. **コードで編集機能**

- 📝ボタンで該当箇所にジャンプ
- コード編集モードに自動切替
- 該当タグを自動ハイライト
- スクロール位置も自動調整

---

## メリット・デメリット

### ✅ メリット

#### 1. **初心者に優しい**
- HTMLの知識不要
- 視覚的なインターフェース
- 直感的な操作

#### 2. **安全な編集**
- HTML構造を破壊しない
- JSON-LDの整合性を維持
- パースエラーを検出

#### 3. **柔軟な編集方式**
- ビジュアルとコードを使い分け
- リアルタイム双方向同期
- 自分に合った方法で編集

#### 4. **自動化機能**
- h1とtitleの自動同期
- サムネイルとog:imageの自動同期
- noindexの自動削除

#### 5. **カスタマイズ性**
- カスタムタグで頻繁に使うコードを登録
- 作業効率の向上
- 繰り返し作業の削減

#### 6. **データの永続性**
- ファイルベースの下書き保存
- ブラウザキャッシュに依存しない
- 複数のバックアップを保持可能

#### 7. **無料**
- 無料で利用できる

### ❌ デメリット

#### 1. **編集範囲の制限**
- `<body>`要素内のみ編集可能（それ以外はコードモードで可能）
- 全体的なレイアウト変更は難しい

#### 2. **テンプレート依存**
- 既存HTMLが必要
- ゼロからの作成には不向き
- テンプレートの品質に依存

#### 3. **特定構造への依存**
- 自動同期は特定のclass名に依存
  - `<div class="hero">` 内の h1
  - `alt="記事サムネイル"` の画像
- 構造が異なる場合は自動同期されない

#### 4. **高度な編集の難しさ**
- 複雑なHTML構造の編集は困難
- CSS、JavaScriptの編集はコードモードが必要
- レイアウトの大幅な変更は不向き

#### 5. **ブラウザ依存**
- ブラウザの性能に依存
- 大規模なHTMLでは動作が遅い可能性
- モバイルブラウザでは操作しづらい

#### 6. **バージョン管理なし**
- Git的なバージョン管理機能なし
- 履歴は100段階まで
- ページ再読み込みで履歴はリセット

#### 7. **プレビュー機能なし**
- 編集結果をリアルタイムでプレビューできない
- 別途ブラウザで開く必要あり

---

## 始め方

### ステップ1: エディタを開く

1. `https://hayadebi.github.io/Accounting-ai-app/Tools/BlogEditor/blogeditor.html` にアクセスする
2. ドラッグ&ドロップゾーンが表示される

### ステップ2: HTMLファイルを読み込む

**方法1: ドラッグ&ドロップ**
1. 編集したいHTMLファイルを用意
2. ドロップゾーンにドラッグ&ドロップ

**方法2: クリックして選択**
1. ドロップゾーンをクリック
2. ファイル選択ダイアログが表示
3. HTMLファイルを選択

### ステップ3: 編集開始

- ファイルが読み込まれると、自動的に編集画面が表示される
- Head編集、Body編集、カスタムタグのセクションが表示される
- ビジュアル編集モードで編集開始

### ステップ4: HTML出力

1. 編集完了後、「⬇ HTML出力」ボタンをクリック
2. ファイル名を入力（デフォルト: output.html）
3. 「ダウンロード」をクリック
4. 編集済みHTMLファイルが保存される

---

## 使い方

### Head編集

#### Metaタグの編集

1. 「🔧 Head編集」セクションを展開
2. 「Meta タグ」セクションで各metaタグを確認
3. content属性の値を編集
4. 変更は自動保存される

**編集例**:
```
og:title → 「新しい記事タイトル」
og:description → 「この記事では〜について解説します」
og:image → 「https://example.com/new-image.jpg」
```

#### JSON-LDの編集

1. 「JSON-LD」セクションを確認
2. 各フィールドを編集
   - headline: 記事のタイトル
   - image: 記事のサムネイル画像URL
   - datePublished: 公開日（ISO 8601形式）
   - dateModified: 更新日（ISO 8601形式）
   - mainEntityOfPage @id: 記事のURL

**注意**: JSON構造を破壊しないよう、値のみ編集してください

### Body編集

#### テキストの編集

1. 「✏️ Body編集」セクションを展開
2. 編集したい要素を探す
3. 「テキスト」フィールドに新しい内容を入力
4. Enter または フィールド外クリックで確定

#### 画像の変更

1. `<img>` タグを探す
2. 「src」フィールドに新しい画像URLを入力
3. 変更は自動保存される

#### リンクの変更

1. `<a>` タグを探す
2. 「href」フィールドに新しいリンクURLを入力
3. 変更は自動保存される

#### 要素の追加

1. 要素を追加したい位置の➕ボタンをクリック
2. 要素追加メニューが表示される
3. 追加したいタグを選択
   - 段落 (p)
   - 見出し2 (h2)
   - 見出し3 (h3)
   - 画像 (img)
   - リンク (a)
   - リスト (ul)
   - コンテナ (div)
   - または登録済みカスタムタグ
4. 挿入位置を選択
   - 「タグの下に追加」: 選択した要素の直後に追加
   - 「タグ内の末端に追加」: 選択した要素の子要素として末端に追加
5. 要素が挿入される

#### 要素の削除

1. 削除したい要素の📝ボタンをクリック
2. コード編集モードに自動切替
3. 該当箇所がハイライト表示される
4. 手動でコードを削除
5. ビジュアルモードに戻ると削除が反映される

### カスタムタグの使用

#### カスタムタグの登録

1. 「🏷️ カスタムタグ」セクションを展開
2. 「➕ カスタムタグを追加」をクリック
3. モーダルが開く
4. 「タグ名」を入力（例: カスタムボタン）
5. 「HTMLコード」を入力
   ```html
   <button class="custom-btn" onclick="alert('Hello!')">
     クリック
   </button>
   ```
6. 「保存」をクリック

#### カスタムタグの使用

1. Body編集セクションで➕ボタンをクリック
2. 要素追加メニューの下部にカスタムタグが表示される
3. カスタムタグを選択
4. 挿入位置を選択
5. HTMLコードが挿入される

#### カスタムタグの編集・削除

**編集**:
1. カスタムタグカードをクリック
2. モーダルが開く（編集モード）
3. タグ名またはコードを変更
4. 「更新」をクリック

**削除**:
1. カスタムタグカードをクリック
2. タグ名またはコードを空にする
3. 「更新」をクリック
4. 自動的に削除される

### モード切替

#### ビジュアル → コード

1. 画面上部の「💻 コード編集」ボタンをクリック
2. HTML全体がコードエディタに表示される
3. 直接編集可能

#### コード → ビジュアル

1. 「🎨 ビジュアル編集」ボタンをクリック
2. コードエディタの内容がパースされる
3. ビジュアルエディタに反映される

**注意**: コード編集で不正なHTMLを入力すると、パースエラーが発生します

### コード整形

1. コード編集モードで「整形」ボタンをクリック
2. HTMLが自動的に整形される

### 下書き保存・復帰

#### 保存

1. 「💾 下書き保存」ボタンをクリック
2. `draft_YYYY-MM-DDTHH-mm-ss.txt` ファイルが自動ダウンロード
3. 安全な場所に保存

#### 復帰

1. 「📂 下書き復帰」ボタンをクリック
2. ファイル選択ダイアログが表示
3. 保存した下書きファイルを選択
4. 編集状態が復元される

**保存内容**:
- HTML全体
- カスタムタグ
- タイムスタンプ

### Undo/Redo

- **元に戻す**: 「↶ 元に戻す」ボタンをクリック
- **やり直す**: 「↷ やり直す」ボタンをクリック
- 最大100段階まで

### リサイザー

1. Body編集セクションとカスタムタグセクションの間にあるバーを探す
2. バーをマウスでドラッグ
3. Body編集エリアの高さが変更される
4. 200px〜800pxの範囲で調整可能

---

## 注意点

### 1. **HTMLファイルのバックアップ**

**重要**: 編集前に必ずオリジナルファイルのバックアップを作成してください

- 誤って上書きした場合、元に戻せません
- 定期的にバックアップを取ることを推奨

### 2. **編集範囲の理解**

#### 編集可能
- `<main>` 要素内のコンテンツ
- Metaタグのcontent属性
- Linkタグのhref属性（prev/next）
- JSON-LD

#### 編集不可（ビジュアルモードでは）
- `<header>` 要素
- `<footer>` 要素
- `<nav>` 要素
- `<script>` タグ
- `<style>` タグ

**回避策**: コード編集モードで直接編集可能

### 3. **自動同期の条件**

#### h1同期
- `<div class="hero">` 内の `<h1>` タグが対象
- class名が異なる場合は同期されない

#### サムネイル同期
- `alt="記事サムネイル"` の画像が対象
- alt属性が異なる場合は同期されない

**対策**: テンプレートに合わせてclass名やalt属性を確認

### 4. **noindexの自動削除**

- ファイル読み込み時に `<meta name="robots" content="noindex">` は自動削除される
- 意図的にnoindexを設定している場合は注意
- 必要な場合はコード編集モードで再追加

### 5. **ブラウザの制限**

#### ファイルサイズ
- 大きすぎるHTML（数MB以上）は動作が遅くなる可能性
- 推奨: 1MB以下

#### メモリ
- 履歴機能により、長時間の編集でメモリを消費
- 定期的にページをリフレッシュすることを推奨

### 6. **下書きファイルの管理**

- 下書きファイルは`.txt`形式
- ファイル名に日時が含まれる
- 適切なフォルダに整理して保存
- 定期的に古い下書きを削除

### 7. **JSONパースエラー**

#### JSON-LD編集時
- 不正な値を入力すると保存時にエラーが発生
- エラーメッセージが表示される
- 元の値に戻して再試行

#### 対策
- 日付はISO 8601形式（YYYY-MM-DD）
- URLは完全なURL（https://〜）
- 特殊文字はエスケープ不要

### 8. **コード編集時の注意**

#### 構造破壊
- 閉じタグを削除しない
- タグのネストを維持
- DOCTYPE宣言を削除しない

#### パースエラー
- 不正なHTMLを入力すると、ビジュアルモードへの切り替え時にエラー
- エラー通知が表示される
- コード編集モードに戻って修正

### 9. **画面サイズ**

- 最小推奨解像度: 1280x720px
- モバイルブラウザでは操作しづらい可能性
- デスクトップブラウザでの使用を推奨

### 10. **セキュリティ**

- ファイルはサーバーにアップロードされない
- JavaScriptが実行可能な環境が必要

### 11. **互換性**

#### サポートブラウザ
- ✅ Chrome 90+
- ✅ Firefox 88+
- ✅ Edge 90+
- ✅ Safari 14+

#### 非サポート
- ❌ Internet Explorer

### 12. **ページリロード時の注意**

- 履歴（Undo/Redo）はリセットされる
- 編集内容は保持される（リロード前に読み込んだHTML）
- 下書き保存していない変更は、ページを閉じると失われる

---

## トラブルシューティング

### Q1: ファイルが読み込めない

**症状**: HTMLファイルをドロップしても何も起こらない

**原因**:
- ファイルが.html形式でない
- ブラウザがファイル読み込みをブロック

**解決策**:
1. ファイルの拡張子が`.html`であることを確認
2. 別のブラウザで試す
3. ブラウザのコンソールでエラーを確認（F12キー）

### Q2: 編集が反映されない

**症状**: 値を変更しても保存されていない

**原因**:
- Enterキーを押していない
- フィールド外をクリックしていない

**解決策**:
1. 編集後にEnterキーを押す、またはフィールド外をクリック
2. コード編集モードで確認
3. ブラウザをリロードして再度読み込む

### Q3: JSON-LDが保存できない

**症状**: JSON-LD編集時にエラーが表示される

**原因**:
- 不正なJSON形式
- 必須フィールドが空

**解決策**:
1. エラーメッセージを確認
2. 元の値に戻す
3. 正しい形式で入力
4. コード編集モードで直接編集

### Q4: 要素追加ポップアップが閉じない

**症状**: 要素追加メニューが画面に残る

**原因**:
- JavaScriptエラー
- ブラウザの不具合

**解決策**:
1. 画面の空白部分をクリック
2. Escキーを押す
3. ページをリロード

### Q5: コード編集が反映されない

**症状**: コードモードで編集してもビジュアルモードに反映されない

**原因**:
- HTMLのパースエラー
- 閉じタグの欠落

**解決策**:
1. エラー通知を確認
2. HTML構造を確認（閉じタグ、ネスト）
3. 「整形」ボタンで構造を確認

### Q6: 下書きが復帰できない

**症状**: 下書きファイルを選択してもエラーが表示される

**原因**:
- ファイルが破損している
- JSON形式が不正

**解決策**:
1. エラーメッセージを確認
2. 別の下書きファイルを試す
3. テキストエディタでファイルを開いてJSON構造を確認

### Q7: 自動同期されない

**症状**: h1を編集してもtitleが更新されない

**原因**:
- h1が `<div class="hero">` 内にない
- class名が異なる

**解決策**:
1. コード編集モードでHTML構造を確認
2. h1が正しい位置にあるか確認
3. 手動でtitleを編集

### Q8: 動作が遅い

**症状**: 編集時に遅延が発生する

**原因**:
- HTMLファイルが大きすぎる
- ブラウザのメモリ不足
- 多数の要素

**解決策**:
1. HTMLファイルを分割
2. ブラウザを再起動
3. 他のタブを閉じる
4. より高性能なPCを使用

### Q9: カスタムタグが表示されない

**症状**: 登録したカスタムタグが要素追加メニューに表示されない

**原因**:
- タグ名またはコードが空
- 保存されていない

**解決策**:
1. カスタムタグセクションを確認
2. タグ名とコードの両方が入力されているか確認
3. 再度保存を試みる

### Q10: HTMLが壊れた

**症状**: 出力したHTMLが正しく表示されない

**原因**:
- タグの削除ミス
- 構造の破壊

**解決策**:
1. Undo（↶）で元に戻す
2. バックアップから復元
3. 下書きから復帰

---

## ベストプラクティス

### 1. **編集前の準備**
- オリジナルファイルをバックアップ
- テンプレートの構造を確認
- 編集計画を立てる

### 2. **効率的な編集**
- 頻繁に使うコードはカスタムタグに登録
- ビジュアルとコードを使い分け
- 大きな変更前に下書き保存

### 3. **品質管理**
- 編集後にブラウザでプレビュー
- metaタグの内容を確認
- JSON-LDのエラーをチェック

### 4. **データ管理**
- 定期的に下書き保存
- 重要な編集前にバックアップ
- 古い下書きは整理

### 5. **トラブル回避**
- 複雑な編集は少しずつ
- 頻繁にUndoポイントを作成
- エラーメッセージを確認

---

## まとめ

ブログHTMLエディタは、HTMLの知識がなくても既存のブログテンプレートを簡単に編集できる強力なツールです。ビジュアル編集とコード編集の両方をサポートし、自動同期機能やカスタムタグ機能により、効率的な編集作業を実現します。

適切に使用すれば、ブログの更新作業を大幅に効率化できます。このガイドを参考に、安全で効果的な編集を行ってください。

---

**バージョン**: 1.0  
**最終更新**: 2026年2月16日  
